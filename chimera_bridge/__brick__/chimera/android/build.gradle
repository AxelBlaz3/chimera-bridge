buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath "com.android.tools.build:gradle:{{agp_version}}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:{{kotlin_version}}"
    }
}

apply plugin: "com.android.library"
apply plugin: "kotlin-android"

android {
    compileSdkVersion {{compile_sdk}}
    
    defaultConfig {
        minSdkVersion {{min_sdk}}
    }

    buildTypes {
        release {
            minifyEnabled false
        }
        profile {
            initWith release
            matchingFallbacks = ["release"]
        }
        debug {
            minifyEnabled false
        }
    }
    
    // Add namespace (Required for AGP 8.0+)
    namespace "{{package_name}}"
}

repositories {
    mavenCentral()
    maven { url(new File(projectDir, "libs")) }
}

dependencies {
    implementation "com.facebook.react:react-native:+"
    implementation "org.jetbrains.kotlin:kotlin-stdlib:{{kotlin_version}}"
    
    debugImplementation "{{package_name}}:flutter_debug:1.0"
    profileImplementation "{{package_name}}:flutter_profile:1.0"
    releaseImplementation "{{package_name}}:flutter_release:1.0"
}